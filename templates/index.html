<!DOCTYPE html>
<html>
  <head>
    <title>FacTract</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="static/css/main.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Shadows+Into+Light+Two"
      rel="stylesheet"
    />
    <noscript><link rel="stylesheet" href="static/css/noscript.css"/></noscript>
  </head>
  
  <script type="text/javascript">
		//Function to detect speech and convert it to text and search the term.
      function sound() {
        console.log('Starting');
        var SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.onresult = (event) => {
            const speechToText = event.results[0][0].transcript;
            console.log(speechToText);
            document.getElementById('text').value = speechToText;
            console.log('Done!!!');
            document.getElementById('search').click();
          }
        recognition.start();
      }
	</script>
  <body class="is-preload">
    <section id="header">
       <!-- If term does not exist  -->
      {% if error == 'Exception': -%}
      <p
        style="font-size: 1.5em;font-family: 'Shadows Into Light Two', cursive; color:red;"
      >
        An error occured while searching for {{ user_input }} ! Please check the
        term.
      </p>
      {%- endif %}
      
      <header>
        <h1
          style="font-size: 2.5em;font-family: 'Shadows Into Light Two', cursive;"
        >
          <span style="font-size:80px;">F</span>ac<span style="font-size:80px;"
            >T</span
          >ract
        </h1>

      </header>
      <footer>
        <a href="#banner" class="button style2 scrolly-middle"
          >Fact Extracter</a
        >
      </footer>
    </section>

    <!-- Banner -->
    <section id="banner">
      <header>
        <h2>Extract the crux with FacTract</h2>
      </header>
      <p>
        A fact extractor tool for the users which:<br />
        <span style="font-weight: 800;">a) Saves a lot of time.<br /></span>
        <span style="font-weight: 800;"
          >b) Presents concise & appropriate facts.<br
        /></span>
        <span style="font-weight: 800;">c) Results within a minute.<br /></span>
        <span style="font-weight: 800;">d) Anyone can use it.</span>
      </p>
      <footer>
        <a class="style2 scrolly">FacTract now!</a>
      </footer>
    </section>

    <!-- Form -->
    <article class="container box style3">
      <header>
        <h1>Enter a topic</h1>
        <p>to FacTract now</p>
      </header>
      <form method="POST" action="/fact">
        <div class="row gtr-50">
          <div class="col-12 col-12-mobile">
            <input
              type="text"
              class="text"
              id="text"
              name="user_input"
              placeholder="Enter FacTract word here"
            />
          </div>
          <div class="col-12">
            <ul class="actions">
              <li><input type="submit" value="FacTract!" id="search" /></li>
              <li><input type="button" value="Speak Now!" onclick="sound()" /></li>
            </ul>
          </div>
        </div>
      </form>
    </article>
    <section id="footer">
      <ul class="icons">
        <li><h4>FacTract</h4></li>
      </ul>
      <div class="copyright">
        <ul class="menu">
          <span class="label"
            ><li>&copy; 2019 | All rights reserved.</li>
        </ul>
      </div>
    </section>
    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/jquery.scrolly.min.js"></script>
    <script src="static/js/jquery.poptrox.min.js"></script>
    <script src="static/js/browser.min.js"></script>
    <script src="static/js/breakpoints.min.js"></script>
    <script src="static/js/util.js"></script>
    <script src="static/js/main.js"></script>
  </body>
</html>
